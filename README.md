# Computer Infection Detection
# Content
* [Overview](#overview)
* [Files](#components)
* [Dependencies](#dependencies)
* [Local Installation](#local-installation)
* [Usage](#usage)
* [TODO list](#todo-list)
* [Known bugs and Issues](#known-bugs-and-issues)
---
## Overview
---
This repo contains ML Models to detect whether or not the user's computer is infected.

---
## Files
---

**Models/*** - is a directory that contains .pkl files of all models used

**argus_files/*** - is a directory that contains all files needed to run argus for generating .netflow file

***.netflow** -  are example files of .netflow file on how to use main.py.

**final_project.ipynb** - python notebook that contains the models creation.

**main.py** - the executable file 

**utils.py** - a python file that contains functions used by main.py

---
## Dependencies
---
### Libraries:
* joblib
* xgboost
* pandas
* numpy
* sklearn
  
### Backend:
* python ( => 3.6)

---
# Local Installation
---
First install openargus
```sh
$ sudo apt install argus-server
$ sudo apt install argus-clients
```
Then install wireshark
```sh
$ sudo apt install wireshark
```

After installing the prerequisites, clone the repository and navigate to it:
``` sh
$ git clone https://github.com/shaharhayon/final-project-malware-detection.git
$ cd final-project-malware-detection
```
---
## Usage
---
```
1. Run  wireshark to generate .pcap file with out using the interent.
2. Run the commands found in : argus_files/create netflow file.txt on the generated .netflow file.
3. Run 'python main.py <metric> <file name>.netflow' command.

main.py input
  metrics- after creating amd testing the models we picked the best models of 3 categories:
      1. accuracy: we chose the model with highest test Balanced Accuracy*.
      2. recall: we chose the model with the highest test Infected Recall.
      3. precision: we chose the model with the highest test Infected Precision.
 file.netflow- the generated file after using argus command.
      
*Balanced Accuracy: the average of Infected Recall and Normal Recall. Used for unbalanced data.
```
---
## TODO list
---
* Run the models on more data

---
## Known bugs and Issues
---
 - xgboost model importing doesnt work sometimes.

---
## References
---
* DATA : Garcia, Sebastian. Malware Capture Facility Project. 
Retrieved from https://www.stratosphereips.org/
* PLOTS: [chart-studio.plotly.com](https://chart-studio.plotly.com/~porat-ah/#)

